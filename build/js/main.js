"use strict";

(function () {
  var vh = window.innerHeight * 0.01;
  document.documentElement.style.setProperty('--vh', "".concat(vh, "px"));
  var $body = document.querySelector('body');

  function debounce(func) {
    var timer;
    return function (event) {
      if (timer) clearTimeout(timer);
      timer = setTimeout(func, 100, event);
    };
  }

  function Modal(trigger, modal) {
    this.trigger = trigger;
    this.modal = modal;
    this.overlay = this.modal.querySelector('.modal__overlay');
    this.closeBtn = this.modal.querySelector('.modal__close');
    this.onOverlayClick = this.onOverlayClick.bind(this);
    this.onCloseClick = this.onCloseClick.bind(this);
    this.onTriggerClick = this.onTriggerClick.bind(this);
    this.onResize = this.onResize.bind(this);
    this.addEventListeners();
  }

  Modal.prototype.open = function () {
    this.modal.classList.add('js-show');
    $body.classList.add('js__body-no-scroll');
  };

  Modal.prototype.close = function () {
    this.modal.classList.remove('js-show');
    $body.classList.remove('js__body-no-scroll');
  };

  Modal.prototype.onOverlayClick = function (e) {
    if (e.target === this.overlay) {
      this.close();
    }
  };

  Modal.prototype.onCloseClick = function () {
    this.close();
  };

  Modal.prototype.onTriggerClick = function () {
    this.open();
  };

  Modal.prototype.onResize = function () {
    var vh = window.innerHeight * 0.01;
    document.documentElement.style.setProperty('--vh', "".concat(vh, "px"));
  };

  Modal.prototype.addEventListeners = function () {
    this.overlay.addEventListener('click', this.onOverlayClick);
    this.closeBtn.addEventListener('click', this.onCloseClick);
    this.trigger.addEventListener('click', this.onTriggerClick);
    window.addEventListener('resize', debounce(this.onResize));
  };

  window.Modal = Modal;
})();

(function () {
  var items = document.querySelectorAll('.search');
  var close = document.querySelectorAll('.search + .search-close');
  items.forEach(function (item) {
    item.addEventListener('focus', function () {
      item.parentNode.parentNode.classList.add('js-focus');
    });
  });
  items.forEach(function (item) {
    item.addEventListener('blur', function () {
      if (item.value.split(' ').join('') === '') {
        item.value = '';
      }

      if (item.value !== '' && !item.classList.contains('js-inputed')) {
        item.classList.add('js-inputed');
      }

      if (item.value === '' && item.classList.contains('js-inputed')) {
        item.classList.remove('js-inputed');
      }
    });
  });
  close.forEach(function (item) {
    item.addEventListener('click', function () {
      var search = item.previousElementSibling;
      search.value = '';

      if (search.classList.contains('js-inputed')) {
        search.classList.remove('js-inputed');
      }
    });
  });
})();

(function () {})();

(function () {
  $(window).load(function () {
    var swiper = new Swiper('.menu-pa__container', {
      freeMode: true,
      slidesPerView: 'auto',
      breakpoints: {
        1280: {
          freeMode: true,
          slidesPerView: 'auto',
          allowTouchMove: false
        }
      }
    });
  });
})();

(function () {
  $(window).load(function () {
    var $slider = $('.subscriptions__slider');

    if (!$slider) {
      return;
    }

    console.log($slider);
    var swiper = new Swiper('.subscriptions__slider', {
      mousewheel: true,
      slidesPerView: 'auto',
      freeMode: true,
      watchOverflow: true,
      spaceBetween: 5,
      navigation: {
        nextEl: '.subscriptions__nav-next',
        prevEl: '.subscriptions__nav-prev'
      },
      breakpoints: {
        768: {
          spaceBetween: 15
        },
        1280: {
          spaceBetween: 15,
          slidesPerView: 2,
          freeMode: false
        }
      }
    });
  });
})();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZGFsLmpzIiwic2VhcmNoLmpzIiwiZGV2aWNlLWNhcmQuanMiLCJtZW51LXBhLmpzIiwic3Vic2NyaXB0aW9ucy1zbGlkZXIuanMiXSwibmFtZXMiOlsidmgiLCJ3aW5kb3ciLCJpbm5lckhlaWdodCIsImRvY3VtZW50IiwiZG9jdW1lbnRFbGVtZW50Iiwic3R5bGUiLCJzZXRQcm9wZXJ0eSIsIiRib2R5IiwicXVlcnlTZWxlY3RvciIsImRlYm91bmNlIiwiZnVuYyIsInRpbWVyIiwiZXZlbnQiLCJjbGVhclRpbWVvdXQiLCJzZXRUaW1lb3V0IiwiTW9kYWwiLCJ0cmlnZ2VyIiwibW9kYWwiLCJvdmVybGF5IiwiY2xvc2VCdG4iLCJvbk92ZXJsYXlDbGljayIsImJpbmQiLCJvbkNsb3NlQ2xpY2siLCJvblRyaWdnZXJDbGljayIsIm9uUmVzaXplIiwiYWRkRXZlbnRMaXN0ZW5lcnMiLCJwcm90b3R5cGUiLCJvcGVuIiwiY2xhc3NMaXN0IiwiYWRkIiwiY2xvc2UiLCJyZW1vdmUiLCJlIiwidGFyZ2V0IiwiYWRkRXZlbnRMaXN0ZW5lciIsIml0ZW1zIiwicXVlcnlTZWxlY3RvckFsbCIsImZvckVhY2giLCJpdGVtIiwicGFyZW50Tm9kZSIsInZhbHVlIiwic3BsaXQiLCJqb2luIiwiY29udGFpbnMiLCJzZWFyY2giLCJwcmV2aW91c0VsZW1lbnRTaWJsaW5nIiwiJCIsImxvYWQiLCJzd2lwZXIiLCJTd2lwZXIiLCJmcmVlTW9kZSIsInNsaWRlc1BlclZpZXciLCJicmVha3BvaW50cyIsImFsbG93VG91Y2hNb3ZlIiwiJHNsaWRlciIsImNvbnNvbGUiLCJsb2ciLCJtb3VzZXdoZWVsIiwid2F0Y2hPdmVyZmxvdyIsInNwYWNlQmV0d2VlbiIsIm5hdmlnYXRpb24iLCJuZXh0RWwiLCJwcmV2RWwiXSwibWFwcGluZ3MiOiI7O0FBQUEsQ0FBQSxZQUFBO0FBQ0EsTUFBQUEsRUFBQSxHQUFBQyxNQUFBLENBQUFDLFdBQUEsR0FBQSxJQUFBO0FBQ0FDLEVBQUFB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QUE7QUFDQTtBQUNBOztBQUVBQyxJQUFBQSxPQUFBLENBQUFDLEdBQUEsQ0FBQUYsT0FBQTtBQUNBLFFBQUFOLE1BQUEsR0FBQSxJQUFBQyxNQUFBLENBQUEsd0JBQUEsRUFBQTtBQUNBUSxNQUFBQSxVQUFBLEVBQUEsSUFEQTtBQUVBTixNQUFBQSxhQUFBLEVBQUEsTUFGQTtBQUdBRCxNQUFBQSxRQUFBLEVBQUEsSUFIQTtBQUlBUSxNQUFBQSxhQUFBLEVBQUEsSUFKQTtBQUtBQyxNQUFBQSxZQUFBLEVBQUEsQ0FMQTtBQU1BQyxNQUFBQSxVQUFBLEVBQUE7QUFDQUMsUUFBQUEsTUFBQSxFQUFBLDBCQURBO0FBRUFDLFFBQUFBLE1BQUEsRUFBQTtBQUZBLE9BTkE7QUFXQVYsTUFBQUEsV0FBQSxFQUFBO0FBQ0EsYUFBQTtBQUNBTyxVQUFBQSxZQUFBLEVBQUE7QUFEQSxTQURBO0FBSUEsY0FBQTtBQUNBQSxVQUFBQSxZQUFBLEVBQUEsRUFEQTtBQUVBUixVQUFBQSxhQUFBLEVBQUEsQ0FGQTtBQUdBRCxVQUFBQSxRQUFBLEVBQUE7QUFIQTtBQUpBO0FBWEEsS0FBQSxDQUFBO0FBc0JBLEdBOUJBO0FBK0JBLENBaENBIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIoKCkgPT4ge1xuICBsZXQgdmggPSB3aW5kb3cuaW5uZXJIZWlnaHQgKiAwLjAxO1xuICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoJy0tdmgnLCBgJHt2aH1weGApO1xuXG4gIGNvbnN0ICRib2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpO1xuXG4gIGZ1bmN0aW9uIGRlYm91bmNlKGZ1bmMpe1xuICAgIHZhciB0aW1lcjtcbiAgICByZXR1cm4gZnVuY3Rpb24oZXZlbnQpe1xuICAgICAgaWYodGltZXIpIGNsZWFyVGltZW91dCh0aW1lcik7XG4gICAgICB0aW1lciA9IHNldFRpbWVvdXQoZnVuYywxMDAsZXZlbnQpO1xuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBNb2RhbCAodHJpZ2dlciwgbW9kYWwpIHtcbiAgICB0aGlzLnRyaWdnZXIgPSB0cmlnZ2VyO1xuICAgIHRoaXMubW9kYWwgPSBtb2RhbDtcbiAgICB0aGlzLm92ZXJsYXkgPSB0aGlzLm1vZGFsLnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbF9fb3ZlcmxheScpO1xuICAgIHRoaXMuY2xvc2VCdG4gPSB0aGlzLm1vZGFsLnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbF9fY2xvc2UnKTtcblxuICAgIHRoaXMub25PdmVybGF5Q2xpY2sgPSB0aGlzLm9uT3ZlcmxheUNsaWNrLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vbkNsb3NlQ2xpY2sgPSB0aGlzLm9uQ2xvc2VDbGljay5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25UcmlnZ2VyQ2xpY2sgPSB0aGlzLm9uVHJpZ2dlckNsaWNrLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vblJlc2l6ZSA9IHRoaXMub25SZXNpemUuYmluZCh0aGlzKTtcblxuICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcnMoKTtcbiAgfVxuXG4gIE1vZGFsLnByb3RvdHlwZS5vcGVuID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5tb2RhbC5jbGFzc0xpc3QuYWRkKCdqcy1zaG93Jyk7XG4gICAgJGJvZHkuY2xhc3NMaXN0LmFkZCgnanNfX2JvZHktbm8tc2Nyb2xsJyk7XG4gIH1cblxuICBNb2RhbC5wcm90b3R5cGUuY2xvc2UgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLm1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoJ2pzLXNob3cnKTtcbiAgICAkYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdqc19fYm9keS1uby1zY3JvbGwnKTtcbiAgfVxuXG4gIE1vZGFsLnByb3RvdHlwZS5vbk92ZXJsYXlDbGljayA9IGZ1bmN0aW9uKGUpIHtcbiAgICBpZiAoZS50YXJnZXQgPT09IHRoaXMub3ZlcmxheSkge1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH1cbiAgfVxuXG4gIE1vZGFsLnByb3RvdHlwZS5vbkNsb3NlQ2xpY2sgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmNsb3NlKCk7XG4gIH1cblxuICBNb2RhbC5wcm90b3R5cGUub25UcmlnZ2VyQ2xpY2sgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLm9wZW4oKTtcbiAgfVxuXG4gIE1vZGFsLnByb3RvdHlwZS5vblJlc2l6ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgbGV0IHZoID0gd2luZG93LmlubmVySGVpZ2h0ICogMC4wMTtcbiAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eSgnLS12aCcsIGAke3ZofXB4YCk7XG4gIH07XG5cbiAgTW9kYWwucHJvdG90eXBlLmFkZEV2ZW50TGlzdGVuZXJzID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5vdmVybGF5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5vbk92ZXJsYXlDbGljayk7XG4gICAgdGhpcy5jbG9zZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMub25DbG9zZUNsaWNrKTtcbiAgICB0aGlzLnRyaWdnZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLm9uVHJpZ2dlckNsaWNrKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgZGVib3VuY2UodGhpcy5vblJlc2l6ZSkpO1xuICB9XG5cbiAgd2luZG93Lk1vZGFsID0gTW9kYWw7XG59KSgpO1xuIiwiKCgpID0+IHtcbiAgY29uc3QgaXRlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2VhcmNoJyk7XG4gIGNvbnN0IGNsb3NlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnNlYXJjaCArIC5zZWFyY2gtY2xvc2UnKTtcblxuICBpdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgaXRlbS5hZGRFdmVudExpc3RlbmVyKCdmb2N1cycsICgpID0+e1xuICAgICAgaXRlbS5wYXJlbnROb2RlLnBhcmVudE5vZGUuY2xhc3NMaXN0LmFkZCgnanMtZm9jdXMnKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgaXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgIGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsICgpID0+IHtcbiAgICAgIGlmIChcbiAgICAgICAgaXRlbS52YWx1ZS5zcGxpdCgnICcpLmpvaW4oJycpID09PSAnJ1xuICAgICAgKSB7XG4gICAgICAgIGl0ZW0udmFsdWUgPSAnJztcbiAgICAgIH1cblxuICAgICAgaWYgKFxuICAgICAgICBpdGVtLnZhbHVlICE9PSAnJ1xuICAgICAgICAmJiAhaXRlbS5jbGFzc0xpc3QuY29udGFpbnMoJ2pzLWlucHV0ZWQnKVxuICAgICAgKSB7XG4gICAgICAgIGl0ZW0uY2xhc3NMaXN0LmFkZCgnanMtaW5wdXRlZCcpO1xuICAgICAgfVxuXG4gICAgICBpZiAoXG4gICAgICAgIGl0ZW0udmFsdWUgPT09ICcnXG4gICAgICAgICYmIGl0ZW0uY2xhc3NMaXN0LmNvbnRhaW5zKCdqcy1pbnB1dGVkJylcbiAgICAgICkge1xuICAgICAgICBpdGVtLmNsYXNzTGlzdC5yZW1vdmUoJ2pzLWlucHV0ZWQnKTtcbiAgICAgIH1cbiAgICB9KVxuICB9KTtcblxuICBjbG9zZS5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgaXRlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IHNlYXJjaCA9IGl0ZW0ucHJldmlvdXNFbGVtZW50U2libGluZztcbiAgICAgIHNlYXJjaC52YWx1ZSA9ICcnO1xuICAgICAgaWYgKFxuICAgICAgICBzZWFyY2guY2xhc3NMaXN0LmNvbnRhaW5zKCdqcy1pbnB1dGVkJylcbiAgICAgICkge1xuICAgICAgICBzZWFyY2guY2xhc3NMaXN0LnJlbW92ZSgnanMtaW5wdXRlZCcpO1xuICAgICAgfVxuICAgIH0pXG4gIH0pO1xufSkoKTtcbiIsIigoKSA9PiB7XG5cbn0pKCk7XG4iLCIoKCkgPT4ge1xuICAkKHdpbmRvdykubG9hZChmdW5jdGlvbiAoKSB7XG4gICAgY29uc3Qgc3dpcGVyID0gbmV3IFN3aXBlcignLm1lbnUtcGFfX2NvbnRhaW5lcicsIHtcbiAgICAgIGZyZWVNb2RlOiB0cnVlLFxuICAgICAgc2xpZGVzUGVyVmlldzogJ2F1dG8nLFxuICAgICAgYnJlYWtwb2ludHM6IHtcblxuICAgICAgICAxMjgwOiB7XG4gICAgICAgICAgZnJlZU1vZGU6IHRydWUsXG4gICAgICAgICAgc2xpZGVzUGVyVmlldzogJ2F1dG8nLFxuICAgICAgICAgIGFsbG93VG91Y2hNb3ZlOiBmYWxzZVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xufSkoKTtcbiIsIigoKSA9PiB7XG4gICQod2luZG93KS5sb2FkKGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCAkc2xpZGVyID0gJCgnLnN1YnNjcmlwdGlvbnNfX3NsaWRlcicpO1xuXG4gICAgaWYgKCEkc2xpZGVyKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc29sZS5sb2coJHNsaWRlcik7XG4gICAgY29uc3Qgc3dpcGVyID0gbmV3IFN3aXBlcignLnN1YnNjcmlwdGlvbnNfX3NsaWRlcicsIHtcbiAgICAgIG1vdXNld2hlZWw6IHRydWUsXG4gICAgICBzbGlkZXNQZXJWaWV3OiAnYXV0bycsXG4gICAgICBmcmVlTW9kZTogdHJ1ZSxcbiAgICAgIHdhdGNoT3ZlcmZsb3c6IHRydWUsXG4gICAgICBzcGFjZUJldHdlZW46IDUsXG4gICAgICBuYXZpZ2F0aW9uOiB7XG4gICAgICAgIG5leHRFbDogJy5zdWJzY3JpcHRpb25zX19uYXYtbmV4dCcsXG4gICAgICAgIHByZXZFbDogJy5zdWJzY3JpcHRpb25zX19uYXYtcHJldicsXG4gICAgICB9LFxuXG4gICAgICBicmVha3BvaW50czoge1xuICAgICAgICA3Njg6IHtcbiAgICAgICAgICBzcGFjZUJldHdlZW46IDE1LFxuICAgICAgICB9LFxuICAgICAgICAxMjgwOiB7XG4gICAgICAgICAgc3BhY2VCZXR3ZWVuOiAxNSxcbiAgICAgICAgICBzbGlkZXNQZXJWaWV3OiAyLFxuICAgICAgICAgIGZyZWVNb2RlOiBmYWxzZSxcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9KVxufSkoKTtcbiJdfQ==
